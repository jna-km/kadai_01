# アクセシビリティ対応状況ガイド

---

## 1. 概要・現状整理

- 主要フォームコンポーネントには一部ARIA属性（`aria-invalid`, `aria-describedby`など）が設定されているが、全体的な網羅性や統一感は不足。
- モーダルや通知コンポーネントでは部分的にキーボード操作（Tab移動）やフォーカストラップ対応があるが、全体的な徹底は未達成。
- アクセシビリティ自動テスト（axe, pa11y等）はほぼ未導入。
- 対応済み・未対応の一覧化やチェックリストは体系的に整備されていない。
- コード内コメントやPRレビューでアクセシビリティ指摘は散見されるが、一元管理されていない。

---

## 2. 対応済み事例

- フォーム入力欄で`aria-invalid`・`aria-describedby`を一部実装済み
- モーダルで`role="dialog"`や`aria-modal="true"`を設定した事例あり
- 通知（toast）で`role="alert"`を付与した事例あり
- 一部コンポーネントでラベルと入力欄の`for`属性・`id`属性の紐付け対応

---

## 3. 未対応・課題箇所

- 全フォームコンポーネントへのARIA属性網羅・統一
- モーダルのフォーカストラップ・Escキー閉じ対応の徹底
- 通知・ダイアログのキーボード操作対応（Tab移動・フォーカス制御）
- アクセシビリティ自動テストの導入・運用
- チェックリストや対応状況の一元管理
- スクリーンリーダーでの動作確認・改善
- スクリーンリーダーを用いた実機検証はまだ実施されていないため、ユーザー体験の確認が不十分

---

## 4. 今後の改善案・優先対応項目

- 全フォーム・モーダル・通知コンポーネントへのARIA属性の統一的な付与
- フォーカストラップ・キーボード操作（Tab, Esc, Enter）対応の徹底
- アクセシビリティ自動テスト（axe, pa11y等）の導入とCI連携
- チェックリストの作成と対応状況の定期レビュー
- スクリーンリーダー実機検証の実施
- PRレビュー時のアクセシビリティ観点の明文化
- スクリーンリーダー検証を早期に計画・実施し、検証結果を反映すること

---

## 5. 参考基準・外部リソース

- [WCAG 2.1 日本語訳](https://waic.jp/guideline/)
- [WAI-ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
- [axe-core](https://github.com/dequelabs/axe-core)
- [pa11y](https://github.com/pa11y/pa11y)

---

## 6. コード例・コメント抜粋

```jsx
// フォーム入力例
<input
  aria-invalid={!!error}
  aria-describedby={error ? `${name}-error` : undefined}
/>

// モーダル例
<div role="dialog" aria-modal="true" tabIndex={-1}>
  {/* ... */}
</div>

// 通知例
<div role="alert">
  {/* ... */}
</div>
```

---

## 7. アクセシビリティチェックリスト

### 【高】絶対に対応すべき項目（Must）

- [ ] 全フォーム・モーダル・通知コンポーネントへのARIA属性の統一的な付与
- [ ] モーダルのフォーカストラップ・キーボード操作（Tab, Esc, Enter）対応の徹底
- [ ] PRレビュー時のアクセシビリティ観点の明文化と必須チェック
- [ ] エラーメッセージやフィードバックのスクリーンリーダー対応

### 【中】できるだけ早く対応したい項目（Should）

- [ ] スクリーンリーダー実機検証の実施
- [ ] アクセシビリティ自動テスト（axe, pa11y等）の導入とCI連携
- [ ] フォーム入力時のキーボード操作ナビゲーションの強化
- [ ] 色だけに依存しない視覚的フィードバックの実装（色覚多様性対応）

### 【低】長期的に取り組むべき項目（Could）

- [ ] チェックリストの作成と対応状況の定期レビュー
- [ ] アクセシビリティ関連のドキュメント充実と運用ルールの体系化
- [ ] 動画や音声コンテンツの字幕・代替テキスト対応
- [ ] 動的コンテンツのリアルタイム通知対応
- [ ] アニメーションや動きの調整（ユーザーの好みに応じて減速可能など）

### 7.1 チェックリストの根拠と説明

このアクセシビリティチェックリストは、以下の根拠に基づいて作成されています。

- **WCAG 2.1などの公式アクセシビリティ基準に準拠**  
  基本的なARIA属性の付与やキーボード操作対応など、ユーザーが利用しやすい環境を確保するための必須要件を反映しています。

- **プロジェクト内の現状と課題を踏まえた実践的な優先順位**  
  ZIP内のコード調査やチーム内レビューをもとに、現実的かつ効果的な対応項目を厳選しています。

- **業界のベストプラクティスを取り入れた運用強化**  
  axeやpa11yなどの自動テストツールの活用や、PRレビューでの明文化を推奨し、品質の継続的向上を目指しています。

- **継続的な改善とチーム運用を重視**  
  定期的なチェックリストの見直し、ドキュメント更新、実機検証を通じて、アクセシビリティ対応を運用フェーズまで落とし込んでいます。

このドキュメントを活用し、チーム全体でアクセシビリティ品質を高めていきましょう。

## 8. 備考

- 対応状況や課題は今後も随時更新・整理してください。
- 詳細な運用ルールや設計方針はUIガイドライン・バリデーション設計仕様も参照してください。
- アクセシビリティ対応はPRレビュー時に必ずチェックし、未対応箇所はtodoリストや改善ガイドに記録してください。
- チーム全体で定期的にアクセシビリティ状況を振り返り、優先度の高い課題から対応を進めてください。

--- フッター開始 ---

[← READMEに戻る](../README.md)

## 📚 ドキュメント一覧

- [プロジェクト概要](project-overview.md)
- [機能一覧](features.md)
- [画面・機能対応表](function_screen_map.md)
- [画面定義](screens.md)
- [ユースケース定義](usecase_reserve.md)
- [機能要件](functional_requirements.md)
- [コーディングルール](coding-rules.md)
- [APIレスポンス設計ガイドライン](api_response.md)
- [ショートカット](shortcuts.md)
- [バリデーション設計仕様](validation_spec.md)
- [UIガイドライン](ui_guideline.md)
- [UI改善ガイド](ui_improvement_guide.md)
- [アクセシビリティガイド](accessibility_guide.md) 
- [Zustand 状態管理ガイド](zustand_guide.md)
- [Laravel + Supervisor 設定ガイド](supervisor.md)
- [Laravel & Vite 環境構築・テスト・デプロイまとめ](laravel-vite-setup.md)
- [画面遷移図（PDF）](画面遷移図.pdf)
- [ワイヤーフレーム（PDF）](ワイヤーフレーム.pdf)

### 作業ログ
- [2025-07-07](logs/2025-07-07.md)
- [2025-07-08](logs/2025-07-08.md)
- [2025-07-09](logs/2025-07-09.md)
- [2025-07-10](logs/2025-07-10.md)
- [2025-07-11](logs/2025-07-11.md)
- [2025-07-15](logs/2025-07-15.md)
- [2025-07-17](logs/2025-07-17.md)
- [2025-07-18](logs/2025-07-18.md)
- [2025-07-22](logs/2025-07-22.md)
- [2025-07-23](logs/2025-07-23.md)
- [2025-07-24](logs/2025-07-24.md)
- [2025-07-25](logs/2025-07-25.md)
- [2025-07-28](logs/2025-07-28.md)
- [2025-07-29](logs/2025-07-29.md)
- [2025-07-30](logs/2025-07-30.md)
- [2025-07-31](logs/2025-07-31.md)
- [2025-08-01](logs/2025-08-01.md)

### 色々やること
- [今後のTODOメモ](todo.md)

--- フッター終了 ---
